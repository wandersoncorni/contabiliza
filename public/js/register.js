(()=>{function e(e,t){t?(e.classList.remove("invalid"),e.classList.add("valid"),e.querySelector("i").classList.remove("heroicon-x"),e.querySelector("i").classList.add("heroicon-check")):(e.classList.remove("valid"),e.classList.add("invalid"),e.querySelector("i").classList.remove("heroicon-check"),e.querySelector("i").classList.add("heroicon-x"))}function t(e,t){const o=document.createElement("div");o.classList.add("invalid-feedback"),o.textContent=t,e.classList.add("is-invalid"),e.parentNode.insertBefore(o,e.nextSibling)}document.querySelector("#show_password").checked=!1,document.querySelector("#concorde_termo").checked=!1,document.querySelector("#password").addEventListener("input",(function(){const t=this.value,o=document.querySelector("#length"),r=document.querySelector("#uppercase"),c=document.querySelector("#lowercase"),s=document.querySelector("#number"),n=document.querySelector("#special");e(o,t.length>=8),e(r,/[A-Z]/.test(t)),e(c,/[a-z]/.test(t)),e(s,/[0-9]/.test(t)),e(n,/[@$!%*?&]/.test(t))})),document.querySelector("#show_password").addEventListener("change",(function(){const e=document.querySelector("#password"),t=document.querySelector("#password_confirmation");this.checked?(e.type="text",t.type="text"):(e.type="password",t.type="password")})),document.querySelector("#register-form").addEventListener("submit",(function(e){let o;if(e.preventDefault(),document.querySelectorAll(".invalid-feedback").forEach((e=>{e.remove()})),document.querySelectorAll(".is-invalid").forEach((e=>{e.classList.remove("is-invalid")})),function(){const e=document.querySelector("#password").value,o=document.querySelector("#password_confirmation").value;let r=!0;return document.querySelectorAll(".list-unstyled .invalid").length>0&&(t(document.querySelector("#password"),"A senha não atende aos requisitos."),r=!1),e!==o&&(t(document.querySelector("#password_confirmation"),"As senhas não coincidem."),r=!1),document.querySelector("#concorde_termo").checked||(t(document.querySelector("#concorde_termo"),"Você deve concordar com os termos."),r=!1),r}()){const e=new FormData(document.querySelector("#register-form"));e.append(document.createElement("input").name="_token",getCsrfToken()),fetch("/api/v1/account",{method:"POST",body:e,headers:{"X-Requested-With":"XMLHttpRequest"}}).then((e=>(o=e.status,e.json()))).then((e=>{e.errors?Object.keys(e.errors).forEach((o=>{t(document.querySelector(`[name=${o}]`),e.errors[o][0])})):e.error?Swal.fire({icon:"error",title:"Erro",text:e.error??"Erro desconhecido"}):o<200&&o>299?Swal.fire({icon:"error",title:"Erro",text:`${e.message}`??0}):o>=200&&o<=299?Swal.fire({icon:"success",title:"Cadastro realizado com sucesso",text:e.message??"Sucesso!!"}):Swal.fire({icon:"waning",title:"Atenção",text:"Um erro desconhecido ocorreu!"})}))}}))})();