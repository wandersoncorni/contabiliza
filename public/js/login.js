(()=>{let e=null;document.addEventListener("DOMContentLoaded",(()=>{fetch("sanctum/csrf-cookie",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then((t=>{e=document.cookie.split("XSRF-TOKEN=")[1]}))})),document.querySelector("#login-form").addEventListener("submit",(async t=>{t.preventDefault(),fetch("/api/v1/login",{method:"POST",headers:{"Content-Type":"application/json","XSRF-TOKEN":e},credentials:"include",body:JSON.stringify({email:document.getElementById("email").value,password:document.getElementById("password").value,_token:document.querySelector('input[name="_token"]').value})}).then((e=>e.json())).then((e=>{e.error?Swal.fire({icon:"error",title:"Erro",text:e.error}):window.location.href="/"})).catch((e=>console.error("Erro:",e)))})),document.querySelector("#show_password").addEventListener("change",(function(){const e=document.querySelector("#password");this.checked?e.type="text":e.type="password"})),document.querySelector("#show_password").checked=!1,document.querySelector("body").addEventListener("keydown",(e=>{"Enter"===e.key&&(e.preventDefault(),document.querySelector("[type=submit]").click())}))})();