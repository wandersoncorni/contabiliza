/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./resources/js/users.js":
/*!*******************************!*\
  !*** ./resources/js/users.js ***!
  \*******************************/
/***/ (() => {

eval("$('#users-table').DataTable({\n  ajax: function (data, callback, settings) {\n    fetch('/api/v1/users', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      credentials: 'include'\n    }).then(response => response.json()).then(json => {\n      callback({\n        data: json\n      });\n    }).catch(error => {\n      console.error('Erro ao carregar os dados:', error);\n    });\n  },\n  columns: [{\n    data: data => $('<input />', {\n      type: 'checkbox',\n      class: 'form-check-input',\n      id: `user-${data.id}`,\n      value: data.id\n    }).prop('outerHTML')\n  }, {\n    data: data => {\n      return $('<div />', {\n        class: 'd-flex'\n      }).append([$('<img />', {\n        class: 'rounded-circle avatar bg-light me-3',\n        src: data.person.photo ?? '/img/user.png'\n      }), $('<div />').append([$('<h1 />', {\n        class: 'h5 mb-0 font-size-14'\n      }).text(data.person.name), $('<p />', {\n        class: 'text-muted font-size-12 mb-0'\n      }).append($('<i />', {\n        class: 'heroicon heroicon-envelope mt-1 me-1 float-start'\n      }), data.email)])]).prop('outerHTML');\n    }\n  }, {\n    data: 'person.role_name'\n  }, {\n    data: data => data.active ? $('<span />', {\n      class: 'text-success'\n    }).text('Ativo').prop('outerHTML') : $('<span />', {\n      class: 'text-danger'\n    }).text('Inativo').prop('outerHTML')\n  }, {\n    data: data => new Date(data.created_at).toLocaleDateString('pt-BR', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit'\n    })\n  }, {\n    data: data => $('<div />').append([$('<button />', {\n      class: 'btn btn-link btn-transparent text-dark dropdown-toggle dropdown-toggle-split m-0 p-0',\n      type: 'button',\n      'data-bs-toggle': 'dropdown',\n      'aria-expanded': false,\n      'aria-haspopup': true\n    }).append($('<i />', {\n      class: 'heroicon heroicon-horizontal-elipsis float-start'\n    })), $('<div />', {\n      class: 'dropdown-menu dashboard-dropdown dropdown-menu-start mt-2 py-1'\n    }).append($('<a />', {\n      class: 'dropdown-item text-info',\n      href: `/api/v1/users/${data.id}`\n    }).append($('<i />', {\n      class: 'heroicon heroicon-eye me-2'\n    }), 'Ver'), $('<a />', {\n      class: 'dropdown-item text-primary',\n      href: `/api/v1/users/${data.id}/edit`\n    }).append($('<i />', {\n      class: 'heroicon heroicon-pencil-square me-2'\n    }), 'Editar'), $('<a />', {\n      class: 'dropdown-item text-danger',\n      href: `/api/v1/users/${data.id}/delete`\n    }).append($('<i />', {\n      class: 'heroicon heroicon-trash me-2'\n    }), 'Excluir'))]).prop('innerHTML')\n  }],\n  columnDefs: [{\n    targets: [0, 2, 3, 4, 5],\n    orderable: false\n  }, {\n    targets: [0, 4, 5],\n    searchable: false\n  }]\n});\n$('#users-table').on('click', '#check-all', function () {\n  $('#users-table tbody input[type=\"checkbox\"]').prop('checked', $(this).is(':checked'));\n});\n$('#search-users').on('keyup', function () {\n  const value = $(this).val();\n  if (value.length < 3) {\n    $('#users-table').DataTable().column(1).search('').draw();\n    return;\n  }\n  $('#users-table').DataTable().column(1).search(value).draw();\n});\n$('#filter-perfil').on('change', function () {\n  const value = $(this).val();\n  if (value == 'todos') {\n    $('#users-table').DataTable().column(2).search('').draw();\n    return;\n  }\n  $('#users-table').DataTable().column(2).search(value).draw();\n});\n$('#filter-status').on('change', function () {\n  const value = $(this).val();\n  if (value == 'todos') {\n    $('#users-table').DataTable().column(3).search('').draw();\n    return;\n  }\n  $('#users-table').DataTable().column(3).search(value).draw();\n});\n$('#new-user').on('click', function () {\n  if (!$('#role_id option').length) {\n    fetch('/api/v1/roles', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      credentials: 'include'\n    }).then(response => response.json()).then(json => {\n      const roles = json.map(role => `<option value=\"${role.id}\">${role.name}</option>`);\n      roles.unshift('<option selected >Selecione um perfil</option>');\n      $('#role_id').html(roles.join(''));\n    });\n  }\n  if (!$('#licensed_id option').length) {\n    fetch('/api/v1/licensed', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      credentials: 'include'\n    }).then(response => response.json()).then(json => {\n      const licensed = json.map(licensed => `<option value=\"${licensed.id}\">${licensed.name}</option>`);\n      licensed.unshift('<option selected >Selecione um licenciado</option>');\n      $('#licensed_id').html(licensed.join(''));\n    });\n  }\n});\n$('#clear-user-filters').on('click', function () {\n  console.log(1);\n  $('#search-users').val('').trigger('keyup');\n  $('#filter-perfil').val('todos').trigger('change');\n  $('#filter-status').val('todos').trigger('change');\n});\n\n//# sourceURL=webpack://access-control/./resources/js/users.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./resources/js/users.js"]();
/******/ 	
/******/ })()
;